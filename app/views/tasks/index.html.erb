<h2>Tasks To do:</h2>

<table class="table table-bordered">
  <tbody>
    <% @tasks.each do |task| %>

      <% if task.done == true %>
        <tr class="table-secondary">
          <td class="striker"><%= link_to task.name, edit_task_path(task) %></td>
          <td><%= task.description %></td>
          <td>
            <center>
              <%= form_for(task) do |f| %>
              <%= f.text_field :name, type: 'hidden' %>
              <%= f.check_box :completed, :checked => false, :style => 'visibility: hidden' %>
              <%= f.submit "Complete", class: 'btn btn-outline-secondary btn-sm' %>
              <% end %>
            </center>
          </td>
          <td>
            <center>
              <%= link_to "Remove", task_path(task), class: "btn btn-outline-danger btn-sm", method: :delete, data: { confirm: "Are you sure?" } %>
            </center>
          </td>
        </tr>

      <% else %>

        <tr>
          <td><%= link_to task.name, edit_task_path(task), class: "btn btn-light" %></td>
          <td><%= task.description %></td>
          <td>
            <center>
              <%= form_for(task) do |f| %>
              <%= f.text_field :name, type: 'hidden' %>
              <%= f.check_box :completed, :checked => true, :style => 'visibility: hidden' %>
              <%= f.submit "Incomplete", class: 'btn btn-outline-secondary btn-sm' %>
              <% end %>
            </center>
          </td>
          <td>
            <center>
              <%= link_to "Remove", task_path(task), class: "btn btn-outline-danger btn-sm", method: :delete, data: { confirm: "Are you sure?" } %>
            </center>
          </td>
        </tr>
      <% end %>

    <% end %>
  </tbody>
</table>

<p><%= link_to "Create a new task", new_task_path, class: "btn btn-outline-secondary btn-sm" %></p>
